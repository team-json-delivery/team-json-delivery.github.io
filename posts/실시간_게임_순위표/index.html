<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>빠르고 정확한 실시간 게임 순위표 설계하기 | Team JSON Delivery</title>
<meta name=keywords content><meta name=description content="실시간 게임 순위표 이번 글에서는 가상 면접 사례로 배우는 대규모 시스템 설계 기초 2 10장 실시간 게임 순위표를 소개하려고 합니다.
실시간 게임 순위표의 특징을 간단히 알아보고, 기본적인 요소를 설계해봅시다.
1. 실시간 게임 순위표 이해 및 설계 범위 확정하기 실시간 게임 순위표는 꽤 간단한 시스템으로 보입니다.
하지만, 복잡성을 더할 수 있는 여러 가지 문제가 있으므로 요구사항(특징)을 분명히 확인하는게 좋습니다.
1. 사용자는 경기에서 승리하면 포인트를 얻습니다. 2. 모든 플레이어가 순위표에 포함되어야 합니다. 3."><meta name=author content="junho3"><link rel=canonical href=https://team-json-delivery.github.io/posts/%EC%8B%A4%EC%8B%9C%EA%B0%84_%EA%B2%8C%EC%9E%84_%EC%88%9C%EC%9C%84%ED%91%9C/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.bd435680923be95168ea1b839ff6ad8e781ccaf43d48e00fadcb1ff771ce3c90.css integrity="sha256-vUNWgJI76VFo6huDn/atjngcyvQ9SOAPrcsf93HOPJA=" rel="preload stylesheet" as=style><link rel=icon href=https://team-json-delivery.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://team-json-delivery.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://team-json-delivery.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://team-json-delivery.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://team-json-delivery.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://team-json-delivery.github.io/posts/%EC%8B%A4%EC%8B%9C%EA%B0%84_%EA%B2%8C%EC%9E%84_%EC%88%9C%EC%9C%84%ED%91%9C/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-Y39RPCVCBC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-Y39RPCVCBC")}</script><meta property="og:title" content="빠르고 정확한 실시간 게임 순위표 설계하기"><meta property="og:description" content="실시간 게임 순위표 이번 글에서는 가상 면접 사례로 배우는 대규모 시스템 설계 기초 2 10장 실시간 게임 순위표를 소개하려고 합니다.
실시간 게임 순위표의 특징을 간단히 알아보고, 기본적인 요소를 설계해봅시다.
1. 실시간 게임 순위표 이해 및 설계 범위 확정하기 실시간 게임 순위표는 꽤 간단한 시스템으로 보입니다.
하지만, 복잡성을 더할 수 있는 여러 가지 문제가 있으므로 요구사항(특징)을 분명히 확인하는게 좋습니다.
1. 사용자는 경기에서 승리하면 포인트를 얻습니다. 2. 모든 플레이어가 순위표에 포함되어야 합니다. 3."><meta property="og:type" content="article"><meta property="og:url" content="https://team-json-delivery.github.io/posts/%EC%8B%A4%EC%8B%9C%EA%B0%84_%EA%B2%8C%EC%9E%84_%EC%88%9C%EC%9C%84%ED%91%9C/"><meta property="og:image" content="https://team-json-delivery.github.io/images/game-ranking/cover.jpeg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-04-10T09:00:00+09:00"><meta property="article:modified_time" content="2024-04-10T09:00:00+09:00"><meta property="og:site_name" content="Team JSON Delivery"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://team-json-delivery.github.io/images/game-ranking/cover.jpeg"><meta name=twitter:title content="빠르고 정확한 실시간 게임 순위표 설계하기"><meta name=twitter:description content="실시간 게임 순위표 이번 글에서는 가상 면접 사례로 배우는 대규모 시스템 설계 기초 2 10장 실시간 게임 순위표를 소개하려고 합니다.
실시간 게임 순위표의 특징을 간단히 알아보고, 기본적인 요소를 설계해봅시다.
1. 실시간 게임 순위표 이해 및 설계 범위 확정하기 실시간 게임 순위표는 꽤 간단한 시스템으로 보입니다.
하지만, 복잡성을 더할 수 있는 여러 가지 문제가 있으므로 요구사항(특징)을 분명히 확인하는게 좋습니다.
1. 사용자는 경기에서 승리하면 포인트를 얻습니다. 2. 모든 플레이어가 순위표에 포함되어야 합니다. 3."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://team-json-delivery.github.io/posts/"},{"@type":"ListItem","position":2,"name":"빠르고 정확한 실시간 게임 순위표 설계하기","item":"https://team-json-delivery.github.io/posts/%EC%8B%A4%EC%8B%9C%EA%B0%84_%EA%B2%8C%EC%9E%84_%EC%88%9C%EC%9C%84%ED%91%9C/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"빠르고 정확한 실시간 게임 순위표 설계하기","name":"빠르고 정확한 실시간 게임 순위표 설계하기","description":"실시간 게임 순위표 이번 글에서는 가상 면접 사례로 배우는 대규모 시스템 설계 기초 2 10장 실시간 게임 순위표를 소개하려고 합니다.\n실시간 게임 순위표의 특징을 간단히 알아보고, 기본적인 요소를 설계해봅시다.\n1. 실시간 게임 순위표 이해 및 설계 범위 확정하기 실시간 게임 순위표는 꽤 간단한 시스템으로 보입니다.\n하지만, 복잡성을 더할 수 있는 여러 가지 문제가 있으므로 요구사항(특징)을 분명히 확인하는게 좋습니다.\n1. 사용자는 경기에서 승리하면 포인트를 얻습니다. 2. 모든 플레이어가 순위표에 포함되어야 합니다. 3.","keywords":[],"articleBody":"실시간 게임 순위표 이번 글에서는 가상 면접 사례로 배우는 대규모 시스템 설계 기초 2 10장 실시간 게임 순위표를 소개하려고 합니다.\n실시간 게임 순위표의 특징을 간단히 알아보고, 기본적인 요소를 설계해봅시다.\n1. 실시간 게임 순위표 이해 및 설계 범위 확정하기 실시간 게임 순위표는 꽤 간단한 시스템으로 보입니다.\n하지만, 복잡성을 더할 수 있는 여러 가지 문제가 있으므로 요구사항(특징)을 분명히 확인하는게 좋습니다.\n1. 사용자는 경기에서 승리하면 포인트를 얻습니다. 2. 모든 플레이어가 순위표에 포함되어야 합니다. 3. 매달 새로운 토너먼트가 시작할 때마다 새로운 순위표를 만듭니다. 4. 상위 10명의 사용자와 특정 사용자의 순위를 순위표에 표시할 수 있어야 합니다. 5. DAU 500만 명, MAU 2,500만 명으로 가정합니다. 6. 플레이어는 하루 평균 10경기를 치룹니다. 7. 두 플레이어의 점수가 같을 경우 순위는 동일합니다. 8. 순위표는 실시간이어야 합니다. ZDNET 배달앱 상반기 MAU, 1년새 470만 줄었다 기사에 의하면 2023년 6월 배달앱(배달의민족과 요기요, 쿠팡이츠)의 MAU가 2,900만이라고 합니다.\n따라서, 요구사항으로 제시된 DAU 500만 명과 MAU 2,500만 명이라는 수치에 주의하여 시스템을 설계할 필요가 있습니다.\nDAU 500만 명인 게임에서 플레이어가 24시간 동안 고르게 분포한다면, 초당 평균 50명의 플레이어가 게임에 참여한다는 계산이 나옵니다.\n500만 DAU / 10^5초(86400) =~ 50\n하지만 게임 서비스 특성상 트래픽은 균등하지 않고, 저녁 시간에 집중될 가능성이 높습니다.\n이를 고려하여 최대 부하를 5배라고 가정하면 초당 250명의 플레이어를 감당할 수 있어야 합니다.\n플레이어는 하루 평균 10경기를 치룬다고 가정하였으므로 점수 획득 이벤트는 평균 500QPS (50 x 10), 최대 2,500QPS (50 x 10 x 5)입니다.\n2. 개략적 설계안 제시하기 개략적인 설계안 입니다.\n플레이어(단말)은 게임 승리 시 게임 서비스를 호출합니다.\n게임 서비스는 플레이어의 점수를 계산하고, 랭킹 서비스를 호출합니다.\n랭킹 서비스는 플레이어의 점수를 갱신합니다.\n요구사항에 따라 메시지 큐를 도입하는 등 서비스 구성을 다르게 설계할 수 있습니다.\n게임 순위표 시스템에서 가장 중요한 것은 반드시 서버에서 점수 계산을 수행해야한다는 점입니다.\n클라이언트는 중간자 공격과 같은 보안상 문제로 점수 계산을 하기에 적합하지 않습니다.\n중간자 공격(man in the middle attack, MITM)\nhttps://ko.wikipedia.org/wiki/%EC%A4%91%EA%B0%84%EC%9E%90_%EA%B3%B5%EA%B2%A9\n3. 정렬 집합(Sorted Set) DAU 500만 명인 게임에서 플레이어의 순위를 효과적으로 가져오기 위해서는 정렬 집합(Sorted Set)이 가장 좋은 해결책이 될 수 있습니다.\n정렬 집합은 내부적으로 해시 테이블과 스킵 리스트라는 두 가지 자료 구조를 사용합니다.\n해시 테이블은 사용자의 점수를 저장하기 위함이고, 스킵 리스트는 특정 점수 가진 사용자들의 목록을 저장하기 위해 쓰입니다.\n위 이미지에서 12번 노드를 찾는다고 가정해 봅시다.\n정렬집합은 중간 노드를 건너뛰는 N차 색인이 존재합니다.\n빨간색 화살표: 11번째에 도착 초록색 화살표(1차 색인): 7번째에 도착 파란색 화살표(2차 색인): 6번만에 도착 이 처럼 다단계 색인을 사용하면 원하는 노드를 훨씬 빠르게 검색할 수 있으며, 전체 노드가 많아질 수록 효과는 증가합니다.\n4. Redis 실시간 순위표에 적합한 저장소를 알아보겠습니다.\nRDB는 가장 간단한 방안이지만, 수 백만 ~ 수 천만명의 플레이어가 존재할 경우 성능은 급격히 떨어집니다.\nIndex와 Limit를 추가하여도 정확한 순위를 알아내려면 테이블의 전체 데이터를 조회해야하는 문제가 있습니다.\n또한, 점수가 지속적으로 변경되기 때문에 DB 캐시를 사용할 수 없으므로 실시간 게임 순위를 구현하기에 적합하지 않습니다.\nRedis는 메모리 기반 key-value 저장소입니다.\n메모리에서 동작하므로 빠른 읽기와 쓰기가 가능하고, 정렬 집합 자료형을 제공하기 때문에 실시간 순위표 저장소로 적합합니다.\n책에서는 Redis 명령어를 자세하게 소개하고 있지만, 여기서는 링크로 대체하겠습니다.\n- ZADD (신규 플레이어 추가): https://redis.io/commands/zadd/ - ZINCRBY (점수 갱신): https://redis.io/commands/zincrby/ - ZRANGE (상위 10명 조회): https://redis.io/commands/zrange/ - ZREVRANK (플레이어 랭킹 조회): https://redis.io/commands/zrevrank/ Redis는 싱글 스레드로 동작하기 때문에 O(N) 명령어는 주의해서 사용해야 합니다. Redis를 사용할 경우 데이터의 영속성을 고민해야 합니다.\nRedis도 데이터를 디스크에 영구적으로 보관할 수 있지만, Redis 인스턴스가 재시작하는 등이 발생할 경우 준비 시간이 많이 걸립니다.\n따라서 Master - Slave로 구성하여 장애에 대응할 수 있도록 해야합니다.\n500만 DAU 정도라면 한 대의 Redis로도 충분히 처리할 수 있지만, 사용량이 늘어나면 Redis의 샤딩을 고려해야 합니다.\n게임 순위표에 적합한 샤딩 방식은 고정 파티션과 해시 파티션 방식이 있습니다.\n고정 파티션은 순위표에 등장하는 점수 범위에 따라 파티션을 나누는 방식입니다.\n예를 들어 토너먼트에서 획득할 수 있는 점수 범위가 1(최소) ~ 1000(최대)인 경우, 10개의 샤드를 두고 각 샤드는 100만큼의 범위를 처리하는 방안입니다.\n이 기능이 제대로 작동하려면 순위표 전반에 점수가 고르게 분포되야 합니다.\n따라서 핫스팟 샤드가 발생하지 않도록 샤드에 할당된 점수 범위를 조정해야 합니다.\n사용자의 점수가 높아져서 다른 샤드로 옮길 경우, 기존 샤드에서 데이터를 제거한 다음 새 샤드로 옮겨야 합니다.\n901 ~ 1000 점수 범위를 처리하는 샤드에서 상위 10명의 플레이어 정보를 쉽게 가져올 수 있습니다.\n해시 파티션은 Redis 클러스터를 사용하는 것으로 핫스팟 문제를 쉽게 해결할 수 있습니다.\nRedis 클러스터는 여러 노드에 데이터를 자동으로 샤딩해줍니다.\nCRC16(Key) % 16384 연산을 수행하여 Key(플레이어)를 찾아 점수를 갱신하면 됩니다.\n💡 CRC16(Key) % 16384 계산식에서 16384(16K)의 의미\n(Redis Github과 Stackoverflow를 참고하여 작성한 것으로 실제 내용과 차이가 있을 수 있습니다.)\nCRC16은 2^16 -1 = 65535로 65K까지 정의할 수 있습니다.\n멱등적으로 사용하려면 65K 슬롯과 16K 슬롯 두 가지 선택지가 있습니다.\n65K 슬롯은 8K Bitmap Size(8 * 8 (8 bit/byte) * 1024(1k))의 네트워크 비용을 사용합니다.\n반면, 16K 슬롯은 2K 네트워크 비용을 사용합니다.\n현실적으로 레디스 마스터 노드를 1000개 이상 사용할 경우가 없으므로, 16K 슬롯으로 제한하여 네트워크 비용을 줄입니다.\n상위 10명의 플레이어 정보는 모든 Node에서 상위 10명의 플레이어를 조회한 다음 애플리케이션 내에서 다시 정렬하는 분산-수집 접근법을 사용해야 합니다.\n따라서 특정 Node가 응답이 느릴 경우 서비스 지연이 발생하게 됩니다.\n책에서는 Redis 파티션의 대안으로 NoSQL(DynamoDB, 카산드라, MongoDB)을 제안하고 있습니다.\nRedis의 기본 개념과 샤딩, 운영시 장애 포인트를 상세하게 설명해주는 좋은 영상입니다.\n[우아한테크세미나] 191121 우아한레디스 by 강대명님\nhttps://youtu.be/mPB2CZiAkKM\n","wordCount":"798","inLanguage":"en","image":"https://team-json-delivery.github.io/images/game-ranking/cover.jpeg","datePublished":"2024-04-10T09:00:00+09:00","dateModified":"2024-04-10T09:00:00+09:00","author":{"@type":"Person","name":"junho3"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://team-json-delivery.github.io/posts/%EC%8B%A4%EC%8B%9C%EA%B0%84_%EA%B2%8C%EC%9E%84_%EC%88%9C%EC%9C%84%ED%91%9C/"},"publisher":{"@type":"Organization","name":"Team JSON Delivery","logo":{"@type":"ImageObject","url":"https://team-json-delivery.github.io/%3Clink%20/%20abs%20url%3E"}}}</script><script>function changeGiscusTheme(){const e=document.body.classList.contains("dark")?"dark":"light";function t(e){const t=document.querySelector("iframe.giscus-frame");if(!t)return;t.contentWindow.postMessage({giscus:e},"https://giscus.app")}t({setConfig:{theme:e}})}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?(document.body.classList.add("dark"),setTimeout(changeGiscusTheme,2e3)):localStorage.getItem("pref-theme")==="light"?(document.body.classList.remove("dark"),setTimeout(changeGiscusTheme,2e3)):window.matchMedia("(prefers-color-scheme: dark)").matches&&(document.body.classList.add("dark"),setTimeout(changeGiscusTheme,2e3))</script><header class=header><nav class=nav><div class=logo><a href=https://team-json-delivery.github.io/ accesskey=h title="Team JSON Delivery (Alt + H)"><img src=https://team-json-delivery.github.io/apple-touch-icon.png alt aria-label=logo height=35>Team JSON Delivery</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li></ul></div></div><ul id=menu><li><a href=https://team-json-delivery.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://team-json-delivery.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://team-json-delivery.github.io/author/ title=author><span>author</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://team-json-delivery.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://team-json-delivery.github.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent" style=word-break:keep-all>빠르고 정확한 실시간 게임 순위표 설계하기</h1><div class=post-meta><span title='2024-04-10 09:00:00 +0900 +0900'>2024년 04월 10일</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;798 words&nbsp;·&nbsp;junho3&nbsp;|&nbsp;<a href=https://github.com/%3cpath_to_repo%3e/content/posts/%ec%8b%a4%ec%8b%9c%ea%b0%84_%ea%b2%8c%ec%9e%84_%ec%88%9c%ec%9c%84%ed%91%9c.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><figure class=entry-cover><div id=figmask style=z-index:-1><img loading=eager src=https://team-json-delivery.github.io/images/game-ranking/cover.jpeg alt></div></figure><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#1-실시간-게임-순위표-이해-및-설계-범위-확정하기>1. 실시간 게임 순위표 이해 및 설계 범위 확정하기</a></li><li><a href=#2-개략적-설계안-제시하기>2. 개략적 설계안 제시하기</a></li><li><a href=#3-정렬-집합sorted-set>3. 정렬 집합(Sorted Set)</a></li><li><a href=#4-redis>4. Redis</a></li></ul></nav></div></details></div><div class=post-content><h1 id=실시간-게임-순위표>실시간 게임 순위표<a hidden class=anchor aria-hidden=true href=#실시간-게임-순위표>#</a></h1><p>이번 글에서는 <code>가상 면접 사례로 배우는 대규모 시스템 설계 기초 2 10장 실시간 게임 순위표</code>를 소개하려고 합니다.<br>실시간 게임 순위표의 특징을 간단히 알아보고, 기본적인 요소를 설계해봅시다.</p><hr><h2 id=1-실시간-게임-순위표-이해-및-설계-범위-확정하기>1. 실시간 게임 순위표 이해 및 설계 범위 확정하기<a hidden class=anchor aria-hidden=true href=#1-실시간-게임-순위표-이해-및-설계-범위-확정하기>#</a></h2><p>실시간 게임 순위표는 꽤 간단한 시스템으로 보입니다.<br>하지만, 복잡성을 더할 수 있는 여러 가지 문제가 있으므로 요구사항(특징)을 분명히 확인하는게 좋습니다.</p><pre tabindex=0><code>1. 사용자는 경기에서 승리하면 포인트를 얻습니다.  
2. 모든 플레이어가 순위표에 포함되어야 합니다.  
3. 매달 새로운 토너먼트가 시작할 때마다 새로운 순위표를 만듭니다.  
4. 상위 10명의 사용자와 특정 사용자의 순위를 순위표에 표시할 수 있어야 합니다.  
5. DAU 500만 명, MAU 2,500만 명으로 가정합니다.  
6. 플레이어는 하루 평균 10경기를 치룹니다.  
7. 두 플레이어의 점수가 같을 경우 순위는 동일합니다.
8. 순위표는 실시간이어야 합니다.  
</code></pre><p>ZDNET <a href="https://zdnet.co.kr/view/?no=20230707171205">배달앱 상반기 MAU, 1년새 470만 줄었다</a> 기사에 의하면 2023년 6월 배달앱(배달의민족과 요기요, 쿠팡이츠)의 MAU가 2,900만이라고 합니다.<br>따라서, 요구사항으로 제시된 DAU 500만 명과 MAU 2,500만 명이라는 수치에 주의하여 시스템을 설계할 필요가 있습니다.</p><p>DAU 500만 명인 게임에서 플레이어가 24시간 동안 고르게 분포한다면, 초당 평균 50명의 플레이어가 게임에 참여한다는 계산이 나옵니다.<br><code>500만 DAU / 10^5초(86400) =~ 50</code><br>하지만 게임 서비스 특성상 트래픽은 균등하지 않고, 저녁 시간에 집중될 가능성이 높습니다.<br>이를 고려하여 최대 부하를 5배라고 가정하면 <code>초당 250명의 플레이어</code>를 감당할 수 있어야 합니다.</p><p>플레이어는 하루 평균 10경기를 치룬다고 가정하였으므로 점수 획득 이벤트는 <code>평균 500QPS (50 x 10)</code>, <code>최대 2,500QPS (50 x 10 x 5)</code>입니다.</p><hr><h2 id=2-개략적-설계안-제시하기>2. 개략적 설계안 제시하기<a hidden class=anchor aria-hidden=true href=#2-개략적-설계안-제시하기>#</a></h2><p><img loading=lazy src=/images/game-ranking/simple-architecture.png alt=simple-architecture.png></p><p>개략적인 설계안 입니다.<br>플레이어(단말)은 게임 승리 시 게임 서비스를 호출합니다.<br>게임 서비스는 플레이어의 점수를 계산하고, 랭킹 서비스를 호출합니다.<br>랭킹 서비스는 플레이어의 점수를 갱신합니다.</p><p>요구사항에 따라 메시지 큐를 도입하는 등 서비스 구성을 다르게 설계할 수 있습니다.<br>게임 순위표 시스템에서 가장 중요한 것은 <strong>반드시 서버에서 점수 계산을 수행</strong>해야한다는 점입니다.<br>클라이언트는 중간자 공격과 같은 보안상 문제로 점수 계산을 하기에 적합하지 않습니다.</p><blockquote><p>중간자 공격(man in the middle attack, MITM)<br><a href=https://ko.wikipedia.org/wiki/%EC%A4%91%EA%B0%84%EC%9E%90_%EA%B3%B5%EA%B2%A9>https://ko.wikipedia.org/wiki/%EC%A4%91%EA%B0%84%EC%9E%90_%EA%B3%B5%EA%B2%A9</a></p></blockquote><hr><h2 id=3-정렬-집합sorted-set>3. 정렬 집합(Sorted Set)<a hidden class=anchor aria-hidden=true href=#3-정렬-집합sorted-set>#</a></h2><p>DAU 500만 명인 게임에서 플레이어의 순위를 효과적으로 가져오기 위해서는 정렬 집합(Sorted Set)이 가장 좋은 해결책이 될 수 있습니다.</p><p>정렬 집합은 내부적으로 <code>해시 테이블</code>과 <code>스킵 리스트</code>라는 두 가지 자료 구조를 사용합니다.<br>해시 테이블은 사용자의 점수를 저장하기 위함이고, 스킵 리스트는 특정 점수 가진 사용자들의 목록을 저장하기 위해 쓰입니다.</p><p><img loading=lazy src=/images/game-ranking/sorted-set.png alt=sorted-set.png></p><p>위 이미지에서 12번 노드를 찾는다고 가정해 봅시다.<br>정렬집합은 중간 노드를 건너뛰는 N차 색인이 존재합니다.</p><pre tabindex=0><code>빨간색 화살표: 11번째에 도착  
초록색 화살표(1차 색인): 7번째에 도착  
파란색 화살표(2차 색인): 6번만에 도착  
</code></pre><p>이 처럼 다단계 색인을 사용하면 원하는 노드를 훨씬 빠르게 검색할 수 있으며, 전체 노드가 많아질 수록 효과는 증가합니다.</p><hr><h2 id=4-redis>4. Redis<a hidden class=anchor aria-hidden=true href=#4-redis>#</a></h2><p>실시간 순위표에 적합한 저장소를 알아보겠습니다.</p><p>RDB는 가장 간단한 방안이지만, 수 백만 ~ 수 천만명의 플레이어가 존재할 경우 성능은 급격히 떨어집니다.<br>Index와 Limit를 추가하여도 정확한 순위를 알아내려면 테이블의 전체 데이터를 조회해야하는 문제가 있습니다.<br>또한, 점수가 지속적으로 변경되기 때문에 DB 캐시를 사용할 수 없으므로 실시간 게임 순위를 구현하기에 적합하지 않습니다.</p><p>Redis는 메모리 기반 key-value 저장소입니다.<br>메모리에서 동작하므로 빠른 읽기와 쓰기가 가능하고, 정렬 집합 자료형을 제공하기 때문에 실시간 순위표 저장소로 적합합니다.</p><p>책에서는 Redis 명령어를 자세하게 소개하고 있지만, 여기서는 링크로 대체하겠습니다.</p><pre tabindex=0><code>- ZADD (신규 플레이어 추가): https://redis.io/commands/zadd/
- ZINCRBY (점수 갱신): https://redis.io/commands/zincrby/
- ZRANGE (상위 10명 조회): https://redis.io/commands/zrange/
- ZREVRANK (플레이어 랭킹 조회):  https://redis.io/commands/zrevrank/

Redis는 싱글 스레드로 동작하기 때문에 O(N) 명령어는 주의해서 사용해야 합니다.  
</code></pre><p>Redis를 사용할 경우 데이터의 영속성을 고민해야 합니다.<br>Redis도 데이터를 디스크에 영구적으로 보관할 수 있지만, Redis 인스턴스가 재시작하는 등이 발생할 경우 준비 시간이 많이 걸립니다.<br>따라서 Master - Slave로 구성하여 장애에 대응할 수 있도록 해야합니다.</p><p>500만 DAU 정도라면 한 대의 Redis로도 충분히 처리할 수 있지만, 사용량이 늘어나면 Redis의 샤딩을 고려해야 합니다.<br>게임 순위표에 적합한 샤딩 방식은 <code>고정 파티션</code>과 <code>해시 파티션</code> 방식이 있습니다.</p><p><code>고정 파티션</code>은 순위표에 등장하는 점수 범위에 따라 파티션을 나누는 방식입니다.<br>예를 들어 토너먼트에서 획득할 수 있는 점수 범위가 1(최소) ~ 1000(최대)인 경우, 10개의 샤드를 두고 각 샤드는 100만큼의 범위를 처리하는 방안입니다.</p><p><img loading=lazy src=/images/game-ranking/static-partition.png alt=static-partition.png></p><p>이 기능이 제대로 작동하려면 순위표 전반에 점수가 고르게 분포되야 합니다.<br>따라서 핫스팟 샤드가 발생하지 않도록 샤드에 할당된 점수 범위를 조정해야 합니다.</p><p>사용자의 점수가 높아져서 다른 샤드로 옮길 경우, 기존 샤드에서 데이터를 제거한 다음 새 샤드로 옮겨야 합니다.<br>901 ~ 1000 점수 범위를 처리하는 샤드에서 상위 10명의 플레이어 정보를 쉽게 가져올 수 있습니다.</p><p><code>해시 파티션</code>은 Redis 클러스터를 사용하는 것으로 핫스팟 문제를 쉽게 해결할 수 있습니다.<br>Redis 클러스터는 여러 노드에 데이터를 자동으로 샤딩해줍니다.</p><p><img loading=lazy src=/images/game-ranking/hash-partition.png alt=hash-partition.png></p><p><code>CRC16(Key) % 16384</code> 연산을 수행하여 Key(플레이어)를 찾아 점수를 갱신하면 됩니다.</p><blockquote><p>💡 CRC16(Key) % 16384 계산식에서 16384(16K)의 의미<br>(<a href=https://github.com/redis/redis/issues/2576>Redis Github</a>과 <a href=https://stackoverflow.com/questions/36203532/why-redis-cluster-only-have-16384-slots>Stackoverflow</a>를 참고하여 작성한 것으로 실제 내용과 차이가 있을 수 있습니다.)</p><p>CRC16은 2^16 -1 = 65535로 65K까지 정의할 수 있습니다.<br>멱등적으로 사용하려면 65K 슬롯과 16K 슬롯 두 가지 선택지가 있습니다.</p><p>65K 슬롯은 8K Bitmap Size(8 * 8 (8 bit/byte) * 1024(1k))의 네트워크 비용을 사용합니다.<br>반면, 16K 슬롯은 2K 네트워크 비용을 사용합니다.</p><p>현실적으로 레디스 마스터 노드를 1000개 이상 사용할 경우가 없으므로, 16K 슬롯으로 제한하여 네트워크 비용을 줄입니다.</p></blockquote><p>상위 10명의 플레이어 정보는 모든 Node에서 상위 10명의 플레이어를 조회한 다음 애플리케이션 내에서 다시 정렬하는 <code>분산-수집</code> 접근법을 사용해야 합니다.<br>따라서 특정 Node가 응답이 느릴 경우 서비스 지연이 발생하게 됩니다.</p><p><img loading=lazy src=/images/game-ranking/partition-collect.png alt=partition-collect.png></p><blockquote><p>책에서는 Redis 파티션의 대안으로 NoSQL(DynamoDB, 카산드라, MongoDB)을 제안하고 있습니다.</p><p>Redis의 기본 개념과 샤딩, 운영시 장애 포인트를 상세하게 설명해주는 좋은 영상입니다.<br>[우아한테크세미나] 191121 우아한레디스 by 강대명님<br><a href=https://youtu.be/mPB2CZiAkKM>https://youtu.be/mPB2CZiAkKM</a></p></blockquote></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://team-json-delivery.github.io/posts/pay-system/><span class=title>« Prev</span><br><span>쿠팡, 아마존, 알리와 같은 기업들은 결제 시스템을 어떻게 만드는걸까? </span></a><a class=next href=https://team-json-delivery.github.io/posts/ad-click-event/><span class=title>Next »</span><br><span>웹 서비스 매출은 광고 원툴 아닌가요? 그럼 이것만 알면 되겠네!</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share 빠르고 정확한 실시간 게임 순위표 설계하기 on x" href="https://x.com/intent/tweet/?text=%eb%b9%a0%eb%a5%b4%ea%b3%a0%20%ec%a0%95%ed%99%95%ed%95%9c%20%ec%8b%a4%ec%8b%9c%ea%b0%84%20%ea%b2%8c%ec%9e%84%20%ec%88%9c%ec%9c%84%ed%91%9c%20%ec%84%a4%ea%b3%84%ed%95%98%ea%b8%b0&amp;url=https%3a%2f%2fteam-json-delivery.github.io%2fposts%2f%25EC%258B%25A4%25EC%258B%259C%25EA%25B0%2584_%25EA%25B2%258C%25EC%259E%2584_%25EC%2588%259C%25EC%259C%2584%25ED%2591%259C%2f&amp;hashtags="><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 빠르고 정확한 실시간 게임 순위표 설계하기 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fteam-json-delivery.github.io%2fposts%2f%25EC%258B%25A4%25EC%258B%259C%25EA%25B0%2584_%25EA%25B2%258C%25EC%259E%2584_%25EC%2588%259C%25EC%259C%2584%25ED%2591%259C%2f&amp;title=%eb%b9%a0%eb%a5%b4%ea%b3%a0%20%ec%a0%95%ed%99%95%ed%95%9c%20%ec%8b%a4%ec%8b%9c%ea%b0%84%20%ea%b2%8c%ec%9e%84%20%ec%88%9c%ec%9c%84%ed%91%9c%20%ec%84%a4%ea%b3%84%ed%95%98%ea%b8%b0&amp;summary=%eb%b9%a0%eb%a5%b4%ea%b3%a0%20%ec%a0%95%ed%99%95%ed%95%9c%20%ec%8b%a4%ec%8b%9c%ea%b0%84%20%ea%b2%8c%ec%9e%84%20%ec%88%9c%ec%9c%84%ed%91%9c%20%ec%84%a4%ea%b3%84%ed%95%98%ea%b8%b0&amp;source=https%3a%2f%2fteam-json-delivery.github.io%2fposts%2f%25EC%258B%25A4%25EC%258B%259C%25EA%25B0%2584_%25EA%25B2%258C%25EC%259E%2584_%25EC%2588%259C%25EC%259C%2584%25ED%2591%259C%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 빠르고 정확한 실시간 게임 순위표 설계하기 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fteam-json-delivery.github.io%2fposts%2f%25EC%258B%25A4%25EC%258B%259C%25EA%25B0%2584_%25EA%25B2%258C%25EC%259E%2584_%25EC%2588%259C%25EC%259C%2584%25ED%2591%259C%2f&title=%eb%b9%a0%eb%a5%b4%ea%b3%a0%20%ec%a0%95%ed%99%95%ed%95%9c%20%ec%8b%a4%ec%8b%9c%ea%b0%84%20%ea%b2%8c%ec%9e%84%20%ec%88%9c%ec%9c%84%ed%91%9c%20%ec%84%a4%ea%b3%84%ed%95%98%ea%b8%b0"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 빠르고 정확한 실시간 게임 순위표 설계하기 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fteam-json-delivery.github.io%2fposts%2f%25EC%258B%25A4%25EC%258B%259C%25EA%25B0%2584_%25EA%25B2%258C%25EC%259E%2584_%25EC%2588%259C%25EC%259C%2584%25ED%2591%259C%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 빠르고 정확한 실시간 게임 순위표 설계하기 on whatsapp" href="https://api.whatsapp.com/send?text=%eb%b9%a0%eb%a5%b4%ea%b3%a0%20%ec%a0%95%ed%99%95%ed%95%9c%20%ec%8b%a4%ec%8b%9c%ea%b0%84%20%ea%b2%8c%ec%9e%84%20%ec%88%9c%ec%9c%84%ed%91%9c%20%ec%84%a4%ea%b3%84%ed%95%98%ea%b8%b0%20-%20https%3a%2f%2fteam-json-delivery.github.io%2fposts%2f%25EC%258B%25A4%25EC%258B%259C%25EA%25B0%2584_%25EA%25B2%258C%25EC%259E%2584_%25EC%2588%259C%25EC%259C%2584%25ED%2591%259C%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 빠르고 정확한 실시간 게임 순위표 설계하기 on telegram" href="https://telegram.me/share/url?text=%eb%b9%a0%eb%a5%b4%ea%b3%a0%20%ec%a0%95%ed%99%95%ed%95%9c%20%ec%8b%a4%ec%8b%9c%ea%b0%84%20%ea%b2%8c%ec%9e%84%20%ec%88%9c%ec%9c%84%ed%91%9c%20%ec%84%a4%ea%b3%84%ed%95%98%ea%b8%b0&amp;url=https%3a%2f%2fteam-json-delivery.github.io%2fposts%2f%25EC%258B%25A4%25EC%258B%259C%25EA%25B0%2584_%25EA%25B2%258C%25EC%259E%2584_%25EC%2588%259C%25EC%259C%2584%25ED%2591%259C%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 빠르고 정확한 실시간 게임 순위표 설계하기 on ycombinator" href="https://news.ycombinator.com/submitlink?t=%eb%b9%a0%eb%a5%b4%ea%b3%a0%20%ec%a0%95%ed%99%95%ed%95%9c%20%ec%8b%a4%ec%8b%9c%ea%b0%84%20%ea%b2%8c%ec%9e%84%20%ec%88%9c%ec%9c%84%ed%91%9c%20%ec%84%a4%ea%b3%84%ed%95%98%ea%b8%b0&u=https%3a%2f%2fteam-json-delivery.github.io%2fposts%2f%25EC%258B%25A4%25EC%258B%259C%25EA%25B0%2584_%25EA%25B2%258C%25EC%259E%2584_%25EC%2588%259C%25EC%259C%2584%25ED%2591%259C%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer><script src=https://giscus.app/client.js data-repo=team-json-delivery/team-json-delivery.github.io data-repo-id=R_kgDOLAMZNQ data-category=comment data-category-id=DIC_kwDOLAMZNc4CcJ4o data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=preferred_color_scheme data-lang=ko crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2024 <a href=https://team-json-delivery.github.io/>Team JSON Delivery</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light"),changeGiscusTheme()):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"),changeGiscusTheme())})</script></body></html>